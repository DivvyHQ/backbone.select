{"version":3,"file":"backbone.select.min.js","sources":["backbone.select.js"],"names":["root","factory","exports","underscore","require","backbone","module","define","amd","this","_","Backbone","Select","onAdd","model","collection","registerCollectionWithModel","selected","select","_silentReselect","_externalEvent","onRemove","options","releaseModel","extend","_pickyCollections","without","_pickyCid","length","deselect","_skipModelCall","onResetSingleSelect","excessiveSelections","deselectOnRemove","find","previousModels","_silentLocally","each","filter","initial","last","silent","onResetMultiSelect","push","unregisterCollectionWithModels","stripLocalOptions","omit","stripInternalOptions","multiSelectionToArray","selectionsHash","mapper","value","key","selectedArr","trigger","context","getEventName","match","prefix","eventName","toUpperCase","unifyEventNames","slice","origTrigger","splitter","event","unifiedEvent","methodName","replace","method","isFunction","apply","tail","arguments","One","prototype","_pickyType","reselected","undefined","_processedBy","cid","close","stopListening","Many","prevSelected","selectedLength","size","triggerMultiSelectEvents","selectAll","deselectAll","selectNone","toggleSelectAll","Me","toggleSelected","applyTo","hostObject","models","uniqueId","enableModelSharing","listenTo","_modelSharingEnabled","mapCidsToModels","cids","previousSelection","get","map","diff","prevSelectedCids","keys","selectedCids","addedCids","difference","removedCids","unchanged","deselected"],"mappings":"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"}